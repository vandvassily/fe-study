import{r as o,c,d as a,a as e,F as i,e as n,b as r,o as h}from"./app.9bc35547.js";import{_ as s}from"./plugin-vue_export-helper.5a098b48.js";const l={},p=n('<h1 id="react\u72B6\u6001\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#react\u72B6\u6001\u66F4\u65B0" aria-hidden="true">#</a> React\u72B6\u6001\u66F4\u65B0</h1><p>\u6574\u4E2A\u6D41\u7A0B</p><ul><li>\u89E6\u53D1\u72B6\u6001\u66F4\u65B0</li><li>\u521B\u5EFAupdate\u5BF9\u8C61</li><li>\u4ECEfiber\u5411\u4E0A\u904D\u5386\u5230root\uFF08<code>markUpdateLaneFromFiberToRoot</code>\uFF09</li><li>\u8C03\u5EA6\u66F4\u65B0\uFF08<code>ensureRootIsScheduled</code>\uFF09</li><li>render\u9636\u6BB5\uFF08<code>performSyncWorkOnRoot</code> \u6216\u8005 <code>performConcurrentWorkOnRoot</code>\uFF09</li><li>commit\u9636\u6BB5\uFF08<code>commitRoot</code>\uFF09</li></ul><h2 id="\u89E6\u53D1\u72B6\u6001\u66F4\u65B0\u7684\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u89E6\u53D1\u72B6\u6001\u66F4\u65B0\u7684\u65B9\u6CD5" aria-hidden="true">#</a> \u89E6\u53D1\u72B6\u6001\u66F4\u65B0\u7684\u65B9\u6CD5</h2><ol><li>ReactDOM.render</li><li>this.setState</li><li>this.forceUpdate</li><li>useState</li><li>useReducer</li></ol><h2 id="\u521B\u5EFAupdate\u5BF9\u8C61" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFAupdate\u5BF9\u8C61" aria-hidden="true">#</a> \u521B\u5EFAupdate\u5BF9\u8C61</h2><p>\u4EE5\u4E0A <code>\u72B6\u6001\u66F4\u65B0</code> \u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u4FDD\u5B58\u66F4\u65B0\u72B6\u6001\u76F8\u5173\u5185\u5BB9\u7684\u5BF9\u8C61\uFF08update\uFF09\u3002\u5728 render \u9636\u6BB5\u7684 <code>beginWork</code> \u4E2D\u4F1A\u6839\u636E update \u8BA1\u7B97\u65B0\u7684 state</p><h2 id="\u4ECEfiber\u5411\u4E0A\u904D\u5386\u5230root" tabindex="-1"><a class="header-anchor" href="#\u4ECEfiber\u5411\u4E0A\u904D\u5386\u5230root" aria-hidden="true">#</a> \u4ECEfiber\u5411\u4E0A\u904D\u5386\u5230root</h2><p>render\u9636\u6BB5\uFF0C\u662F\u4ECE rootFiber \u5411\u4E0BDFS\u904D\u5386\u3002\u4ECE <code>\u89E6\u53D1\u72B6\u6001\u66F4\u65B0\u7684fiber</code> \u5230 <code>rootFiber</code> \u662F\u901A\u8FC7\u8C03\u7528 <code>markUpdateLaneFromFiberToRoot</code> \u65B9\u6CD5\uFF0C\u5411\u4E0A\u904D\u5386\u627E\u5230\u7684\u3002</p><h2 id="\u8C03\u5EA6\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#\u8C03\u5EA6\u66F4\u65B0" aria-hidden="true">#</a> \u8C03\u5EA6\u66F4\u65B0</h2><p>\u8C03\u5EA6\u5668 <code>scheduler</code> \u4F1A\u6839\u636E <code>\u66F4\u65B0</code> \u7684\u4F18\u5148\u7EA7\uFF0C\u51B3\u5B9A\u662F\u4EE5\u540C\u6B65\u8FD8\u662F\u5F02\u6B65\u7684\u65B9\u5F0F\u8C03\u5EA6\u672C\u6B21\u66F4\u65B0\u3002 \u8C03\u7528\u7684\u65B9\u6CD5\u662F <code>ensureRootIsScheduled</code> \u3002</p><p>\u63A5\u4E0B\u6765\u5C31\u8854\u63A5\u4E0A\u4E86 render\u9636\u6BB5 \u548C commit\u9636\u6BB5\u3002</p><h3 id="\u8C03\u5EA6\u7528\u5230\u7684\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u8C03\u5EA6\u7528\u5230\u7684\u7B97\u6CD5" aria-hidden="true">#</a> \u8C03\u5EA6\u7528\u5230\u7684\u7B97\u6CD5</h3><p>\u5C0F\u9876\u5806</p>',14),u=e("h2",{id:"\u53C2\u8003\u8D44\u6599",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#\u53C2\u8003\u8D44\u6599","aria-hidden":"true"},"#"),r(" \u53C2\u8003\u8D44\u6599")],-1),m={href:"https://react.iamkasong.com/state/prepare.html#%E5%87%A0%E4%B8%AA%E5%85%B3%E9%94%AE%E8%8A%82%E7%82%B9",target:"_blank",rel:"noopener noreferrer"},_=r("\u72B6\u6001\u66F4\u65B0--React\u6280\u672F\u63ED\u79D8--\u5361\u9882");function b(f,x){const d=o("CodeSandbox"),t=o("OutboundLink");return h(),c(i,null,[p,a(d,{sandboxUrl:"https://codesandbox.io/embed/min-heap-pfzmd?fontsize=14&hidenavigation=1&theme=dark"}),u,e("p",null,[e("a",m,[_,a(t)])])],64)}var F=s(l,[["render",b]]);export{F as default};
